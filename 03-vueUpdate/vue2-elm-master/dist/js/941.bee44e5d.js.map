{"version":3,"file":"js/941.bee44e5d.js","mappings":"8MACaA,MAAM,e,GADnB,MAEqDA,MAAM,e,UAGvC,wBAEM,aADF,wBAA+E,OAA1E,cAAY,+BAA+B,aAAW,kB,QAD/D,G,GALpB,MAWsBA,MAAM,Y,UAGZ,wBAA6E,OAAxE,cAAY,+BAA+B,aAAW,a,cAA3D,G,GAdhB,MAiBwBA,MAAM,wB,GACTA,MAAM,yB,UAGH,wBAA+E,OAA1E,cAAY,+BAA+B,aAAW,e,cAA3D,G,GArBxB,MAyB0BA,MAAM,Y,iDAxB5B,wBA6BU,UA7BV,EA6BU,CA5BU,EAAAC,MAAMC,eAAeC,S,kBAerC,wBAYU,UAZV,EAYU,EAXN,wBAUU,UAVV,EAUU,EATN,iBAIa,cAJDC,KAAK,cAAY,CAnB7C,uBAoBoB,IAEM,CAF+B,EAAO,U,kBAA5C,wBAEM,OAtB1B,MAoByBJ,MAAM,oBAAoC,QAAK,oBAAE,EAAAK,eAAA,EAAAA,iBAAA,KApB1E,8CAwBgB,iBAEa,cAFDD,KAAK,QAAM,CAxBvC,uBAyBoB,IAAwD,CAA3B,EAAO,U,kBAApC,wBAAwD,OAAxD,GAAwD,qBAAhB,EAAAE,SAAO,KAzBnE,yCA2BgB,wBAAuE,QAAjEN,MAAM,kBAAmB,QAAK,eAAE,EAAAO,eAAe,EAAAN,SAAQ,c,kBAzBrE,wBAcU,UAdV,EAcU,EAbN,iBAMa,cANDG,KAAK,cAAY,CAHzC,uBAIgB,IAIO,CAJsO,EAAO,U,kBAApP,wBAIO,QARvB,MAIuB,QAAK,eAAE,EAAAI,cAAc,EAAAP,MAAMQ,YAAa,EAAAR,MAAMS,QAAS,EAAAT,MAAMU,UAAU,GAAGC,QAAS,EAAAX,MAAMU,UAAU,GAAGP,KAAM,EAAAH,MAAMU,UAAU,GAAGE,MAAO,GAAI,EAAAZ,MAAMU,UAAU,GAAGG,YAAa,EAAAb,MAAMU,UAAU,GAAGI,OAAQ,EAAAd,MAAMU,UAAU,GAAGK,SAJ/O,8CAUY,iBAEa,cAFDZ,KAAK,QAAM,CAVnC,uBAWgB,IAAwD,CAA3B,EAAO,U,kBAApC,wBAAwD,OAAxD,GAAwD,qBAAhB,EAAAE,SAAO,KAX/D,0C,kBAaY,wBAEM,OAFDN,MAAM,WAAY,QAAK,eAAE,EAAAiB,UAAU,EAAAhB,MAAMQ,YAAa,EAAAR,MAAMS,QAAS,EAAAT,MAAMU,UAAU,GAAGC,QAAS,EAAAX,MAAMU,UAAU,GAAGP,KAAM,EAAAH,MAAMU,UAAU,GAAGE,MAAO,GAAI,EAAAZ,MAAMU,UAAU,GAAGG,YAAa,EAAAb,MAAMU,UAAU,GAAGI,OAAQ,EAAAd,MAAMU,UAAU,GAAGK,MAAOE,KAb9P,Q,cAmCI,SACC,IAAAC,GACO,MAAM,CACHC,YAAa,GAEpB,EACA,OAAAC,GAEA,EACAC,SAAU,KACH,IAAAC,UAAS,CACR,aAKJC,SAAU,WACN,OAAOC,OAAOC,OAAO,CAAC,EAAEC,KAAKC,SAASD,KAAKE,QAC/C,EAEAvB,QAAS,WACL,IAAIG,EAAckB,KAAK1B,MAAMQ,YACzBC,EAAUiB,KAAK1B,MAAMS,QACzB,GAAIiB,KAAKH,UAAUG,KAAKH,SAASf,IAAckB,KAAKH,SAASf,GAAaC,GAAU,CAChF,IAAIoB,EAAM,EAIV,OAHAL,OAAOM,OAAOJ,KAAKH,SAASf,GAAaC,IAAUsB,SAAQ,CAACC,EAAKC,KAC7DJ,GAAOG,EAAKH,GAAG,IAEZA,CACX,CACI,OAAO,CAEf,GAEJK,MAAM,CAAC,QAAS,UAChBC,QAAS,KACF,IAAAC,cAAa,CACZ,WAAW,gBAGf,aAAA7B,CAAcC,EAAaC,EAASE,EAASR,EAAMS,EAAOyB,EAAOxB,EAAaC,EAAQC,GAC9EW,KAAKrB,QAAU,GACfqB,KAAKY,YAAY,CAACC,OAAQb,KAAKE,OAAQpB,cAAaC,UAASE,UAASR,OAAMS,QAAOyB,QAAOxB,cAAaC,SAAQC,SAEvH,EAEA,SAAAC,CAAUR,EAAaC,EAASE,EAASR,EAAMS,EAAOyB,EAAOxB,EAAaC,EAAQC,EAAOyB,GACrFd,KAAKe,SAAS,CAACF,OAAQb,KAAKE,OAAQpB,cAAaC,UAASE,UAASR,OAAMS,QAAOyB,QAAOxB,cAAaC,SAAQC,UAC5G,IAAI2B,EAASF,EAAMG,OAAOC,wBAAwBC,KAC9CC,EAAWN,EAAMG,OAAOC,wBAAwBG,OACpDrB,KAAKP,YAAY6B,MAAK,GACtBtB,KAAKuB,MAAM,cAAevB,KAAKP,YAAauB,EAAQI,EAExD,EAEA,cAAAxC,CAAe4C,GACXxB,KAAKuB,MAAM,iBAAkBC,EACjC,EAEA,aAAA9C,GACIsB,KAAKuB,MAAM,gBACf,I,cCzFZ,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,gICRMrD,MAAM,oB,GACKA,MAAM,kB,UAEP,wBAAyE,OAApE,cAAY,+BAA+B,aAAW,S,cAA3D,G,GAIKA,MAAM,kB,UAEP,wBAAyE,OAApE,cAAY,+BAA+B,aAAW,S,cAA3D,G,iDATnB,wBAaS,MAbT,EAaS,EAZF,wBAIU,UAJV,EAIU,G,kBAHN,wBAEM,iBALlB,gBAGiD,GAAP8B,IAA9B,wBAEM,OAFD9B,MAAM,YAA8BsD,IAAKxB,GAH1D,K,QAOQ,wBAMM,OANAyB,OAPd,6BAOuC,EAAP,EAAAC,OAAS,EAAI,OAAOxD,MAAM,iB,EAC9C,wBAIU,UAJV,EAIU,G,kBAHN,wBAEM,iBAXtB,gBASwD,GAAP8B,IAAjC,wBAEM,OAFA9B,MAAM,cAAgCsD,IAAKxB,GATjE,K,aAkBI,SACC,IAAAX,GACO,MAAM,CAEN,CACJ,EACA,OAAAE,GAEA,EACAc,MAAM,CAAC,W,cCpBf,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,gICRYI,GAAG,Y,UAIH,wBAEM,OAFDC,MAAM,OAAOC,OAAO,OAAOC,MAAM,6BAA6BC,QAAQ,O,EACvE,wBAA4F,YAAlFC,OAAO,iBAAiBP,MAAA,+D,QADtC,G,GALZ,MAUiBvD,MAAM,e,UACP,wBAAyE,OAApE,cAAY,+BAA+B,aAAW,S,cAA3D,G,GAXhB,MAakBA,MAAM,c,GAbxB,MAeiBA,MAAM,uB,GACLA,MAAM,c,+FAfpB,wBAqBS,SArBT,EAqBS,EApBL,gBAAyB,+BACzB,gBAA2B,gCACQ,EAAM,S,kBAAzC,wBAIU,WARlB,MAIiBA,MAAM,cAA6B,QAAK,eAAE+D,EAAAA,QAAQC,IAAI,KAJvE,oCAS+D,EAAQ,W,kBAA/D,iBAKc,GAdtB,MASsBC,GAAIC,EAAAA,SAAU,WAAW,SAA0BlE,MAAM,c,CAT/E,uBAUY,IAEM,CAFyBkE,EAAQ,W,kBAAvC,wBAEM,MAFN,EAVZ,M,kBAaY,wBAA4C,OAA5C,EAAgC,aAb5C,K,YAAA,+BAemD,EAAS,Y,kBAApD,wBAEU,UAFV,EAEU,EADN,wBAA6C,OAA7C,GAA6C,qBAAlB,EAAAC,WAAS,OAhBhD,gCAkBQ,gBAAyB,+BACzB,gBAAgC,sCAChC,gBAA+B,qCAC/B,gBAAgC,sC,cAMpC,SACC,IAAAhD,GACO,MAAM,CAEN,CACJ,EACA,OAAAE,GAEIM,KAAKyC,aAET,EACAjC,MAAO,CAAC,WAAY,YAAa,UACjCb,SAAU,KACH,IAAAC,UAAS,CACR,cAGRa,QAAS,KACF,IAAAiC,YAAW,CACV,kB,cCvChB,MAAMjB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,6ICRMrD,MAAM,e,GAEKA,MAAM,c,EAHvB,Q,UAKY,wBAAyB,OAApBA,MAAM,SAAO,W,GAEnBA,MAAM,e,GACAA,MAAM,oB,GACFA,MAAM,e,GAENA,MAAM,e,UACP,wBAAe,YAAT,MAAE,K,GAZ5B,O,oIACC,wBA2BS,MA3BT,EA2BS,EA1BF,iBAAuD,GAA5C,aAAY,EAAAI,KAAM,UAAQ,Q,wBACrC,wBAGU,UAHV,EAGU,EAFN,wBAAqD,OAA/CkE,IAAK,EAAAC,WAAa,EAAAC,WAAYxE,MAAM,Y,OAJtD,GAKY,KAEJ,wBAA0C,IAA1C,GAA0C,qBAAjB,EAAAyE,aAAW,IACpC,wBAmBU,UAnBV,EAmBU,EAlBN,wBAgBU,UAhBV,EAgBU,EAfN,wBAAe,+BAAV,EAAArE,MAAI,IACT,wBAIM,MAJN,EAIM,CAHF,GACA,iBAA4C,GAA9BoD,OAAQ,EAAAA,QAAM,oBAC5B,wBAAkC,kCAA1B,EAAAA,OAAOkB,QAAQ,IAAD,MAE1B,wBAII,WAHA,wBAAgC,YAA1B,OAAG,qBAAE,EAAAC,aAAa,IAAC,IACzB,wBAA6C,YAAvC,QAAI,qBAAE,EAAA1E,MAAMU,UAAU,GAAGE,OAAK,GACxB,EAAAZ,MAAMU,UAAgB,S,kBAAlC,wBAA4C,OAnBhE,EAmBwD,OAnBxD,kCAqBgB,wBAGI,WAFA,wBAAiC,YAA3B,QAAI,qBAAE,EAAAiE,cAAY,IACxB,wBAAkC,YAA5B,QAAI,qBAAE,EAAAC,cAAc,IAAC,U,uDAe3C,SACC,IAAA1D,GACO,MAAM,CACFqD,WAAY,KACZC,YAAa,KACbE,YAAa,KACbvE,KAAM,KACNoD,OAAQ,KACRoB,aAAc,KACdC,aAAc,KACd5E,MAAO,KACP4B,OAAQ,KACR0C,WAAU,KAElB,EACA,OAAAO,GACCnD,KAAK6C,WAAa7C,KAAKoD,OAAOC,MAAMR,WACjC7C,KAAK8C,YAAc9C,KAAKoD,OAAOC,MAAMP,YACrC9C,KAAKgD,YAAchD,KAAKoD,OAAOC,MAAML,YACrChD,KAAKvB,KAAOuB,KAAKoD,OAAOC,MAAM5E,KAC9BuB,KAAK6B,OAAS7B,KAAKoD,OAAOC,MAAMxB,OAChC7B,KAAKiD,aAAejD,KAAKoD,OAAOC,MAAMJ,aACtCjD,KAAKkD,aAAelD,KAAKoD,OAAOC,MAAMH,aACtClD,KAAK1B,MAAQ0B,KAAKoD,OAAOC,MAAM/E,MAC/B0B,KAAKE,OAASF,KAAKoD,OAAOC,MAAMnD,MACpC,EACAoD,OAAQ,CAAC,KACTC,WAAY,CACXC,QAAO,IACJC,WAAU,IACVC,QAAO,KAEXlD,MAAM,GACNC,QAAS,CAET,G,cClER,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G,gECNO,MAAMiC,EAAW,CACvBC,WAAY,CACX,YAAa,CACZC,KAAM,CAACC,EAAIC,KACV,IACI/B,EACAgC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EARAC,EAAeC,OAAOC,OAAOzC,OAS7B0C,EAAaZ,EAAGa,WAAWC,MAAQd,EAAGa,WAAWC,KAAKC,MACtDC,EAAe,EACD,GAAdJ,GACHL,EAAWP,EACXQ,EAAWR,EAAGiB,SAAS,KAEvBV,EAAWW,SAASC,KACpBX,EAAWR,GAGZA,EAAGoB,iBAAiB,cAAc,KACjClD,EAASsC,EAASa,aAIlBnB,EAASF,EAAGsB,UACZnB,GAAgB,QAASH,EAAI,iBAC7BI,GAAe,QAASJ,EAAI,eAAe,IACzC,GAEHA,EAAGoB,iBAAiB,aAAa,KAChCvB,GAAU,IACR,GAEHG,EAAGoB,iBAAiB,YAAY,KAC/Bd,EAAeC,EAASgB,UACxBC,GAAS,IACP,GAEH,MAAMA,EAAU,KACfnB,EAAcoB,uBAAsB,KAC/BlB,EAASgB,WAAajB,GACzBA,EAAeC,EAASgB,UACxBC,MAEAE,qBAAqBrB,GACrBnC,EAASsC,EAASa,aAClBxB,IACD,GACA,EAGIA,EAAW,KACZU,EAASgB,UAAYd,GAAgBvC,EAASgC,EAASC,EAAgBC,EAAeY,GACzFf,EAAQc,OACT,CACD,KAMSY,EAAa,CACzBhF,QAAS,CAER,UAAAgF,CAAWC,GACV,IAAIC,EACJ,IAAKD,EACJ,MAAO,mCAGPC,GAD6B,IAA1BD,EAAKE,QAAQ,QACP,QAEA,OAEV,IAAIC,EAAM,IAAMH,EAAKI,OAAO,EAAG,GAAK,IAAMJ,EAAKI,OAAO,EAAG,GAAK,IAAMJ,EAAKI,OAAO,GAAKH,EACrF,MAAO,8BAAgCE,CACxC,G","sources":["webpack://elm/./src/components/common/buyCart.vue","webpack://elm/./src/components/common/buyCart.vue?8151","webpack://elm/./src/components/common/ratingStar.vue","webpack://elm/./src/components/common/ratingStar.vue?cdd3","webpack://elm/./src/components/header/head.vue","webpack://elm/./src/components/header/head.vue?533d","webpack://elm/./src/page/shop/children/foodDetail.vue","webpack://elm/./src/page/shop/children/foodDetail.vue?00ef","webpack://elm/./src/components/common/mixin.js"],"sourcesContent":[" <template>\n    <section class=\"cart_module\">\n        <section v-if=\"!foods.specifications.length\" class=\"cart_button\">\n            <transition name=\"showReduce\">\n                <span @click=\"removeOutCart(foods.category_id, foods.item_id, foods.specfoods[0].food_id, foods.specfoods[0].name, foods.specfoods[0].price, '', foods.specfoods[0].packing_fee, foods.specfoods[0].sku_id, foods.specfoods[0].stock)\" v-if=\"foodNum\">\n                    <svg>\n                        <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#cart-minus\"></use>\n                    </svg>\n                </span>\n            </transition>\n            <transition name=\"fade\">\n                <span class=\"cart_num\" v-if=\"foodNum\">{{foodNum}}</span>\n            </transition>\n            <svg class=\"add_icon\" @click=\"addToCart(foods.category_id, foods.item_id, foods.specfoods[0].food_id, foods.specfoods[0].name, foods.specfoods[0].price, '', foods.specfoods[0].packing_fee, foods.specfoods[0].sku_id, foods.specfoods[0].stock, $event)\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#cart-add\"></use>\n            </svg>\n        </section>\n        <section v-else class=\"choose_specification\">\n            <section class=\"choose_icon_container\">\n                <transition name=\"showReduce\">\n                    <svg class=\"specs_reduce_icon\" v-if=\"foodNum\" @click=\"showReduceTip\">\n                        <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#cart-minus\"></use>\n                    </svg>\n                </transition>\n                <transition name=\"fade\">\n                    <span class=\"cart_num\" v-if=\"foodNum\">{{foodNum}}</span>\n                </transition>\n                <span class=\"show_chooselist\" @click=\"showChooseList(foods)\">选规格</span>\n            </section>\n        </section>\n    </section>\n</template>\n\n<script>\n    import {mapState, mapMutations} from 'vuex'\n    export default {\n    \tdata(){\n            return{\n               showMoveDot: [], //控制下落的小圆点显示隐藏\n            }\n        },\n        mounted(){\n\n        },\n        computed: {\n            ...mapState([\n                'cartList'\n            ]),\n            /**\n             * 监听cartList变化，更新当前商铺的购物车信息shopCart，同时返回一个新的对象\n             */\n            shopCart: function (){\n                return Object.assign({},this.cartList[this.shopId]);\n            },\n            //shopCart变化的时候重新计算当前商品的数量\n            foodNum: function (){\n                let category_id = this.foods.category_id;\n                let item_id = this.foods.item_id;\n                if (this.shopCart&&this.shopCart[category_id]&&this.shopCart[category_id][item_id]) {\n                    let num = 0;\n                    Object.values(this.shopCart[category_id][item_id]).forEach((item,index) => {\n                        num += item.num;\n                    })\n                    return num;\n                }else {\n                    return 0;\n                }\n            },\n        },\n        props:['foods', 'shopId'],\n        methods: {\n            ...mapMutations([\n                'ADD_CART','REDUCE_CART',\n            ]),\n            //移出购物车\n            removeOutCart(category_id, item_id, food_id, name, price, specs, packing_fee, sku_id, stock){\n                if (this.foodNum > 0) {\n                    this.REDUCE_CART({shopid: this.shopId, category_id, item_id, food_id, name, price, specs, packing_fee, sku_id, stock});\n                }\n            },\n            //加入购物车，计算按钮位置。\n            addToCart(category_id, item_id, food_id, name, price, specs, packing_fee, sku_id, stock, event){\n                this.ADD_CART({shopid: this.shopId, category_id, item_id, food_id, name, price, specs, packing_fee, sku_id, stock});\n                let elLeft = event.target.getBoundingClientRect().left;\n                let elBottom = event.target.getBoundingClientRect().bottom;\n                this.showMoveDot.push(true);\n                this.$emit('showMoveDot', this.showMoveDot, elLeft, elBottom);\n\n            },\n            //显示规格列表\n            showChooseList(foodScroll){\n                this.$emit('showChooseList', foodScroll)\n            },\n            //点击多规格商品的减按钮，弹出提示\n            showReduceTip(){\n                this.$emit('showReduceTip')\n            },\n\n        },\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../style/mixin';\n\t.cart_module{\n        .add_icon{\n            position: relative;\n            z-index: 9;\n        }\n        .cart_button{\n            display: flex;\n            align-items: center;\n        }\n        svg{\n            @include wh(.9rem, .9rem);\n            fill: #3190e8;\n        }\n        .specs_reduce_icon{\n            fill: #999;\n        }\n        .cart_num{\n            @include sc(.65rem, #666);\n            min-width: 1rem;\n            text-align: center;\n            font-family: Helvetica Neue,Tahoma;\n        }\n        .choose_specification{\n            .choose_icon_container{\n                display: flex;\n                align-items: center;\n                .show_chooselist{\n                    display: block;\n                    @include sc(.55rem, #fff);\n                    padding: .1rem .2rem;\n                    background-color: $blue;\n                    border-radius: 0.2rem;\n                    border: 1px solid $blue;\n                }\n            }\n        }\n    }\n    .showReduce-enter-active, .showReduce-leave-active {\n        transition: all .3s ease-out;\n    }\n    .showReduce-enter, .showReduce-leave-active {\n        opacity: 0;\n        transform: translateX(1rem);\n    }\n    .fade-enter-active, .fade-leave-active {\n        transition: all .3s;\n    }\n    .fade-enter, .fade-leave-active {\n        opacity: 0;\n    }\n    .fadeBounce-enter-active, .fadeBounce-leave-active {\n        transition: all .3s;\n    }\n    .fadeBounce-enter, .fadeBounce-leave-active {\n        opacity: 0;\n        transform: scale(.7);\n    }\n\n</style>\n\n","import { render } from \"./buyCart.vue?vue&type=template&id=1183baec&scoped=true\"\nimport script from \"./buyCart.vue?vue&type=script&lang=js\"\nexport * from \"./buyCart.vue?vue&type=script&lang=js\"\n\nimport \"./buyCart.vue?vue&type=style&index=0&id=1183baec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1183baec\"]])\n\nexport default __exports__"," <template>\n\t<div class=\"rating_container\">\n        <section class=\"star_container\">\n            <svg class=\"grey_fill\" v-for=\"num in 5\" :key=\"num\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#star\"></use>\n            </svg>\n        </section>\n        <div :style=\"'width:' + rating*2/5 + 'rem'\" class=\"star_overflow\">\n            <section class=\"star_container\" >\n                <svg  class=\"orange_fill\" v-for=\"num in 5\" :key=\"num\">\n                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#star\"></use>\n                </svg>\n            </section>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n    \tdata(){\n            return{\n               \n            }\n        },\n        mounted(){\n        \t\n        },\n        props:['rating'],\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../style/mixin';\n\t.rating_container{\n        position: relative;\n        top: .2rem;\n        @include wh(2rem, .4rem);\n        .star_overflow{\n            overflow: hidden;\n            position: relative;\n            height: 100%;\n        }\n        .star_container{\n            position: absolute;\n            display: flex;\n            width: 2rem;\n            height: 0.4rem;\n            top: -0.02rem;\n            left: -0.02rem;\n            .grey_fill{\n                fill: #d1d1d1;\n            }\n            .orange_fill{\n                fill: #ff9a0d;\n            }\n        }\n    }\n</style>\n","import { render } from \"./ratingStar.vue?vue&type=template&id=149e3d30&scoped=true\"\nimport script from \"./ratingStar.vue?vue&type=script&lang=js\"\nexport * from \"./ratingStar.vue?vue&type=script&lang=js\"\n\nimport \"./ratingStar.vue?vue&type=style&index=0&id=149e3d30&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-149e3d30\"]])\n\nexport default __exports__","<template>\n    <header id='head_top'>\n        <slot name='logo'></slot>\n        <slot name='search'></slot>\n        <section class=\"head_goback\" v-if=\"goBack\" @click=\"$router.go(-1)\">\n            <svg width=\"100%\" height=\"100%\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n                <polyline points=\"12,18 4,9 12,0\" style=\"fill:none;stroke:rgb(255,255,255);stroke-width:2\"/>\n            </svg>\n        </section>\n        <router-link :to=\"userInfo? '/profile':'/login'\" v-if='signinUp' class=\"head_login\">\n            <svg class=\"user_avatar\" v-if=\"userInfo\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#user\"></use>\n            </svg>\n            <span class=\"login_span\" v-else>登录|注册</span>\n        </router-link>\n        <section class=\"title_head ellipsis\" v-if=\"headTitle\">\n            <span class=\"title_text\">{{headTitle}}</span>\n        </section>\n        <slot name=\"edit\"></slot>\n        <slot name=\"msite-title\"></slot>\n        <slot name=\"changecity\"></slot>\n        <slot name=\"changeLogin\"></slot>\n    </header>\n</template>\n\n<script>\n    import {mapState, mapActions} from 'vuex'\n    export default {\n    \tdata(){\n            return{\n\n            }\n        },\n        mounted(){\n            //获取用户信息\n            this.getUserInfo();\n\n        },\n        props: ['signinUp', 'headTitle', 'goBack'],\n        computed: {\n            ...mapState([\n                'userInfo'\n            ]),\n        },\n        methods: {\n            ...mapActions([\n                'getUserInfo'\n            ]),\n        },\n\n    }\n\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../style/mixin';\n\n    #head_top{\n        background-color: $blue;\n        position: fixed;\n        z-index: 100;\n        left: 0;\n        top: 0;\n        @include wh(100%, 1.95rem);\n    }\n    .head_goback{\n        left: 0.4rem;\n        @include wh(0.6rem, 1rem);\n        line-height: 2.2rem;\n        margin-left: .4rem;\n    }\n    .head_login{\n        right: 0.55rem;\n        @include sc(0.65rem, #fff);\n        @include ct;\n        .login_span{\n            color: #fff;\n        }\n        .user_avatar{\n            fill: #fff;\n            @include wh(.8rem, .8rem);\n        }\n    }\n    .title_head{\n        @include center;\n        width: 50%;\n        color: #fff;\n        text-align: center;\n        .title_text{\n            @include sc(0.8rem, #fff);\n            text-align: center;\n            font-weight: bold;\n        }\n    }\n</style>\n","import { render } from \"./head.vue?vue&type=template&id=3a98f49d&scoped=true\"\nimport script from \"./head.vue?vue&type=script&lang=js\"\nexport * from \"./head.vue?vue&type=script&lang=js\"\n\nimport \"./head.vue?vue&type=style&index=0&id=3a98f49d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3a98f49d\"]])\n\nexport default __exports__"," <template>\n\t<div class=\"rating_page\">\n        <head-top :head-title=\"name\" go-back='true'></head-top>\n        <section class=\"header_img\">\n            <img :src=\"imgBaseUrl + image_path\" class=\"food_img\">\n            <div class=\"cover\"></div>\n        </section>\n        <p class=\"description\">{{description}}</p>\n        <section class=\"detail_container\">\n            <section class=\"detail_left\">\n                <p>{{name}}</p>\n                <div class=\"rating_sale\">\n                    <span>评分</span>\n                    <rating-star :rating='rating'></rating-star>\n                    <span>{{rating.toFixed(1)}}</span>\n                </div>\n                <p>\n                    <span>月售 {{month_sales}}单</span>\n                    <span>售价 ¥{{foods.specfoods[0].price}}</span>\n                    <span v-if=\"foods.specfoods.length\">起</span>\n                </p>\n                <p>\n                    <span>评论数 {{rating_count}}</span>\n                    <span>好评率 {{satisfy_rate}}%</span>\n                </p>    \n            </section>\n            <!-- <buy-cart :shopId='shopId'  :foods='foods' @moveInCart=\"$emit('moveInCart')\"></buy-cart> -->\n        </section>\n    </div>\n</template>\n\n<script>\n\timport headTop from 'src/components/header/head'\n    import {getImgPath} from 'src/components/common/mixin'\n    import ratingStar from 'src/components/common/ratingStar'\n    import buyCart from 'src/components/common/buyCart'\n    import {imgBaseUrl} from 'src/config/env'\n\n    export default {\n    \tdata(){\n            return{\n                image_path: null,\n                description: null,\n                month_sales: null,\n                name: null,\n                rating: null,\n                rating_count: null,\n                satisfy_rate: null,\n                foods: null,\n                shopId: null,\n                imgBaseUrl,\n            }\n        },\n        created(){\n        \tthis.image_path = this.$route.query.image_path;\n            this.description = this.$route.query.description;\n            this.month_sales = this.$route.query.month_sales;\n            this.name = this.$route.query.name;\n            this.rating = this.$route.query.rating;\n            this.rating_count = this.$route.query.rating_count;\n            this.satisfy_rate = this.$route.query.satisfy_rate;\n            this.foods = this.$route.query.foods;\n            this.shopId = this.$route.query.shopId;\n        },\n        mixins: [getImgPath],\n        components: {\n        \theadTop,\n            ratingStar,\n            buyCart,\n        },\n        props:[],\n        methods: {\n            \n        }\n    }\n</script>\n\t\n<style lang=\"scss\" scoped>\n    @import 'src/style/mixin';\n\t\n\t.rating_page{\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: #fff;\n\t\tz-index: 12;\n        padding-top: 1.95rem;\n        p, span{\n            font-family: Helvetica Neue,Tahoma,Arial;\n        }\n\t}\n    .header_img{\n        position: relative;\n        .food_img{\n            width: 100%;\n            display: block;\n        }\n        .cover{\n            position: absolute;\n            @include wh(100%, 100%);\n            top: 0;\n            left: 0;\n        }\n    }\n    .description{\n        @include sc(.6rem, #666);\n        margin-top: .5rem;\n        line-height: .8rem;\n        bottom: .2rem;\n        padding: 0 .4rem;\n    }\n    .detail_container{\n        padding: .5rem;\n        @include fj;\n        align-items: center;\n        .detail_left{\n            p:nth-of-type(1){\n                @include sc(.7rem, #333);\n                margin-bottom: .2rem;\n            }\n            .rating_sale{\n                display: flex;\n                align-items: center;\n                span:nth-of-type(1){\n                   @include sc(.6rem, #666);\n                   margin-right: .2rem;\n                }\n                span:nth-of-type(2){\n                    @include sc(.55rem, #f60);\n                    margin-left: .2rem;\n                }\n                span:nth-of-type(3){\n                   @include sc(.6rem, #666);\n                    margin-left: .4rem;\n                }\n            }\n            p:nth-of-type(2){\n                font-size: 0;\n                margin-top: .3rem;\n                span:nth-of-type(1){\n                    @include sc(.6rem, #666);\n                    margin-right: .4rem;\n                }\n                span:nth-of-type(2),span:nth-of-type(3){\n                    @include sc(.6rem, #f60);\n                    margin-right: .2rem;\n                }\n            }\n            p:nth-of-type(3){\n                span{\n                    @include sc(.6rem, #666);\n                }\n            }\n        }\n    }\n\n</style>\n","import { render } from \"./foodDetail.vue?vue&type=template&id=6107aa12&scoped=true\"\nimport script from \"./foodDetail.vue?vue&type=script&lang=js\"\nexport * from \"./foodDetail.vue?vue&type=script&lang=js\"\n\nimport \"./foodDetail.vue?vue&type=style&index=0&id=6107aa12&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6107aa12\"]])\n\nexport default __exports__","import { getStyle } from '../../config/mUtils'\nimport { imgBaseUrl, localapi, proapi } from '../../config/env'\n\nexport const loadMore = {\n\tdirectives: {\n\t\t'load-more': {\n\t\t\tbind: (el, binding) => {\n\t\t\t\tlet windowHeight = window.screen.height;\n\t\t\t\tlet height;\n\t\t\t\tlet setTop;\n\t\t\t\tlet paddingBottom;\n\t\t\t\tlet marginBottom;\n\t\t\t\tlet requestFram;\n\t\t\t\tlet oldScrollTop;\n\t\t\t\tlet scrollEl;\n\t\t\t\tlet heightEl;\n\t\t\t\tlet scrollType = el.attributes.type && el.attributes.type.value;\n\t\t\t\tlet scrollReduce = 2;\n\t\t\t\tif (scrollType == 2) {\n\t\t\t\t\tscrollEl = el;\n\t\t\t\t\theightEl = el.children[0];\n\t\t\t\t} else {\n\t\t\t\t\tscrollEl = document.body;\n\t\t\t\t\theightEl = el;\n\t\t\t\t}\n\n\t\t\t\tel.addEventListener('touchstart', () => {\n\t\t\t\t\theight = heightEl.clientHeight;\n\t\t\t\t\tif (scrollType == 2) {\n\t\t\t\t\t\theight = height\n\t\t\t\t\t}\n\t\t\t\t\tsetTop = el.offsetTop;\n\t\t\t\t\tpaddingBottom = getStyle(el, 'paddingBottom');\n\t\t\t\t\tmarginBottom = getStyle(el, 'marginBottom');\n\t\t\t\t}, false)\n\n\t\t\t\tel.addEventListener('touchmove', () => {\n\t\t\t\t\tloadMore();\n\t\t\t\t}, false)\n\n\t\t\t\tel.addEventListener('touchend', () => {\n\t\t\t\t\toldScrollTop = scrollEl.scrollTop;\n\t\t\t\t\tmoveEnd();\n\t\t\t\t}, false)\n\n\t\t\t\tconst moveEnd = () => {\n\t\t\t\t\trequestFram = requestAnimationFrame(() => {\n\t\t\t\t\t\tif (scrollEl.scrollTop != oldScrollTop) {\n\t\t\t\t\t\t\toldScrollTop = scrollEl.scrollTop;\n\t\t\t\t\t\t\tmoveEnd()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcancelAnimationFrame(requestFram);\n\t\t\t\t\t\t\theight = heightEl.clientHeight;\n\t\t\t\t\t\t\tloadMore();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tconst loadMore = () => {\n\t\t\t\t\tif (scrollEl.scrollTop + windowHeight >= height + setTop + paddingBottom + marginBottom - scrollReduce) {\n\t\t\t\t\t\tbinding.value();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const getImgPath = {\n\tmethods: {\n\t\t//传递过来的图片地址需要处理后才能正常使用\n\t\tgetImgPath(path) {\n\t\t\tlet suffix;\n\t\t\tif (!path) {\n\t\t\t\treturn '//elm.cangdu.org/img/default.jpg'\n\t\t\t}\n\t\t\tif (path.indexOf('jpeg') !== -1) {\n\t\t\t\tsuffix = '.jpeg'\n\t\t\t} else {\n\t\t\t\tsuffix = '.png'\n\t\t\t}\n\t\t\tlet url = '/' + path.substr(0, 1) + '/' + path.substr(1, 2) + '/' + path.substr(3) + suffix;\n\t\t\treturn 'https://fuss10.elemecdn.com' + url\n\t\t},\n\t}\n\n}"],"names":["class","foods","specifications","length","name","showReduceTip","foodNum","showChooseList","removeOutCart","category_id","item_id","specfoods","food_id","price","packing_fee","sku_id","stock","addToCart","$event","data","showMoveDot","mounted","computed","mapState","shopCart","Object","assign","this","cartList","shopId","num","values","forEach","item","index","props","methods","mapMutations","specs","REDUCE_CART","shopid","event","ADD_CART","elLeft","target","getBoundingClientRect","left","elBottom","bottom","push","$emit","foodScroll","__exports__","render","key","style","rating","id","width","height","xmlns","version","points","$router","go","to","userInfo","headTitle","getUserInfo","mapActions","src","imgBaseUrl","image_path","description","toFixed","month_sales","rating_count","satisfy_rate","created","$route","query","mixins","components","headTop","ratingStar","buyCart","loadMore","directives","bind","el","binding","setTop","paddingBottom","marginBottom","requestFram","oldScrollTop","scrollEl","heightEl","windowHeight","window","screen","scrollType","attributes","type","value","scrollReduce","children","document","body","addEventListener","clientHeight","offsetTop","scrollTop","moveEnd","requestAnimationFrame","cancelAnimationFrame","getImgPath","path","suffix","indexOf","url","substr"],"sourceRoot":""}