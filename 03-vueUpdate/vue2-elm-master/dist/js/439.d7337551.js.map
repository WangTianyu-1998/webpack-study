{"version":3,"file":"js/439.d7337551.js","mappings":"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","sources":["webpack://elm/./src/components/common/loading.vue","webpack://elm/./src/components/common/loading.vue?e986","webpack://elm/./src/components/common/ratingStar.vue","webpack://elm/./src/components/common/ratingStar.vue?cdd3","webpack://elm/./src/components/common/shoplist.vue","webpack://elm/./src/components/common/shoplist.vue?4121","webpack://elm/./src/components/common/mixin.js"],"sourcesContent":[" <template>\n\t<div class=\"loading_container\">\n\t    <div class=\"load_img\" :style=\"{backgroundPositionY: -(positionY%7)*2.5 + 'rem'}\">\n\t    </div>\n    \t<svg class=\"load_ellipse\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\n\t\t\t<ellipse cx=\"26\" cy=\"10\" rx=\"26\" ry=\"10\" style=\"fill:#ddd;stroke:none;\"></ellipse>\n\t\t</svg>\n\t</div>\n</template>\n\n<script>\n    export default {\n    \tdata(){\n            return{\n                positionY: 0,\n                timer: null,\n            }\n        },\n        mounted(){\n        \tthis.timer = setInterval(() => {\n        \t\tthis.positionY ++;\n        \t}, 600)\n        },\n        beforeDestroy(){\n        \tclearInterval(this.timer);\n        }\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../style/mixin';\n\t@keyframes load{\n\t\t0%   {transform: translateY(0px);}\n\t\t50%  {transform: translateY(-50px);}\n\t\t100% {transform: translateY(0px);}\n\t}\n\t@keyframes ellipse{\n\t\t0%   {transform: scale(1);}\n\t\t50%  {transform: scale(0.3);}\n\t\t100% {transform: scale(1);}\n\t}\n    .loading_container{\n    \tposition: fixed;\n    \ttop: 50%;\n    \tleft: 50%;\n    \ttransform: translate(-50%, -50%);\n    \t@include wh(2.5rem, 2.5rem);\n    }\n    .load_img{\n    \t@include wh(100%, 100%);\n    \tbackground: url(../../images/icon_loading.png) no-repeat 0 0;\n    \tbackground-size: 2.5rem auto;\n    \ttransform: translateY(0px);\n    \tanimation: load .6s infinite ease-in-out;\n    \tposition: relative;\n    \tz-index: 11;\n    }\n\t.load_ellipse{\n\t\tposition: absolute;\n\t\t@include wh(2.6rem, 2rem);\n\t\ttop: 2.2rem;\n        left: 0.2rem;\n\t\tz-index: 10;\n\t\tanimation: ellipse .6s infinite ease-in-out;\n\t}\n</style>\n","import { render } from \"./loading.vue?vue&type=template&id=32996121&scoped=true\"\nimport script from \"./loading.vue?vue&type=script&lang=js\"\nexport * from \"./loading.vue?vue&type=script&lang=js\"\n\nimport \"./loading.vue?vue&type=style&index=0&id=32996121&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32996121\"]])\n\nexport default __exports__"," <template>\n\t<div class=\"rating_container\">\n        <section class=\"star_container\">\n            <svg class=\"grey_fill\" v-for=\"num in 5\" :key=\"num\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#star\"></use>\n            </svg>\n        </section>\n        <div :style=\"'width:' + rating*2/5 + 'rem'\" class=\"star_overflow\">\n            <section class=\"star_container\" >\n                <svg  class=\"orange_fill\" v-for=\"num in 5\" :key=\"num\">\n                    <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#star\"></use>\n                </svg>\n            </section>\n        </div>\n    </div>\n</template>\n\n<script>\n    export default {\n    \tdata(){\n            return{\n               \n            }\n        },\n        mounted(){\n        \t\n        },\n        props:['rating'],\n    }\n</script>\n\n<style lang=\"scss\" scoped>\n    @import '../../style/mixin';\n\t.rating_container{\n        position: relative;\n        top: .2rem;\n        @include wh(2rem, .4rem);\n        .star_overflow{\n            overflow: hidden;\n            position: relative;\n            height: 100%;\n        }\n        .star_container{\n            position: absolute;\n            display: flex;\n            width: 2rem;\n            height: 0.4rem;\n            top: -0.02rem;\n            left: -0.02rem;\n            .grey_fill{\n                fill: #d1d1d1;\n            }\n            .orange_fill{\n                fill: #ff9a0d;\n            }\n        }\n    }\n</style>\n","import { render } from \"./ratingStar.vue?vue&type=template&id=149e3d30&scoped=true\"\nimport script from \"./ratingStar.vue?vue&type=script&lang=js\"\nexport * from \"./ratingStar.vue?vue&type=script&lang=js\"\n\nimport \"./ratingStar.vue?vue&type=style&index=0&id=149e3d30&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-149e3d30\"]])\n\nexport default __exports__","<template>\n\t<div class=\"shoplist_container\">\n\t\t<ul v-load-more=\"loaderMore\" v-if=\"shopListArr.length\" type=\"1\">\n\t\t\t<router-link :to=\"{ path: 'shop', query: { geohash, id: item.id } }\" v-for=\"item in shopListArr\" tag='li'\n\t\t\t\t:key=\"item.id\" class=\"shop_li\">\n\t\t\t\t<section>\n\t\t\t\t\t<img :src=\"imgBaseUrl + item.image_path\" class=\"shop_img\">\n\t\t\t\t</section>\n\t\t\t\t<hgroup class=\"shop_right\">\n\t\t\t\t\t<header class=\"shop_detail_header\">\n\t\t\t\t\t\t<h4 :class=\"item.is_premium ? 'premium' : ''\" class=\"shop_title ellipsis\">{{ item.name }}</h4>\n\t\t\t\t\t\t<ul class=\"shop_detail_ul\">\n\t\t\t\t\t\t\t<li v-for=\"item in item.supports\" :key=\"item.id\" class=\"supports\">{{ item.icon_name }}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</header>\n\t\t\t\t\t<h5 class=\"rating_order_num\">\n\t\t\t\t\t\t<section class=\"rating_order_num_left\">\n\t\t\t\t\t\t\t<section class=\"rating_section\">\n\t\t\t\t\t\t\t\t<rating-star :rating='item.rating'></rating-star>\n\t\t\t\t\t\t\t\t<span class=\"rating_num\">{{ item.rating }}</span>\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t<section class=\"order_section\">\n\t\t\t\t\t\t\t\t月售{{ item.recent_order_num }}单\n\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section class=\"rating_order_num_right\">\n\t\t\t\t\t\t\t<span class=\"delivery_style delivery_left\"\n\t\t\t\t\t\t\t\tv-if=\"item.delivery_mode\">{{ item.delivery_mode.text }}</span>\n\t\t\t\t\t\t\t<span class=\"delivery_style delivery_right\" v-if=\"zhunshi(item.supports)\">准时达</span>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t</h5>\n\t\t\t\t\t<h5 class=\"fee_distance\">\n\t\t\t\t\t\t<p class=\"fee\">\n\t\t\t\t\t\t\t¥{{ item.float_minimum_order_amount }}起送\n\t\t\t\t\t\t\t<span class=\"segmentation\">/</span>\n\t\t\t\t\t\t\t{{ item.piecewise_agent_fee.tips }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p class=\"distance_time\">\n\t\t\t\t\t\t\t<span v-if=\"Number(item.distance)\">{{ item.distance > 1000 ? (item.distance / 1000).toFixed(2) +\n\t\t\t'km' : item.distance + 'm' }}\n\t\t\t\t\t\t\t\t<span class=\"segmentation\">/</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span v-else>{{ item.distance }}</span>\n\t\t\t\t\t\t\t<span class=\"segmentation\">/</span>\n\t\t\t\t\t\t\t<span class=\"order_time\">{{ item.order_lead_time }}</span>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</h5>\n\t\t\t\t</hgroup>\n\t\t\t</router-link>\n\t\t</ul>\n\t\t<ul v-else class=\"animation_opactiy\">\n\t\t\t<li class=\"list_back_li\" v-for=\"item in 10\" :key=\"item\">\n\t\t\t\t<img src=\"../../images/shopback.svg\" class=\"list_back_svg\">\n\t\t\t</li>\n\t\t</ul>\n\t\t<p v-if=\"touchend\" class=\"empty_data\">没有更多了</p>\n\t\t<aside class=\"return_top\" @click=\"backTop\" v-if=\"showBackStatus\">\n\t\t\t<svg class=\"back_top_svg\">\n\t\t\t\t<use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#backtop\"></use>\n\t\t\t</svg>\n\t\t</aside>\n\t\t<div ref=\"abc\" style=\"background-color: red;\"></div>\n\t\t<transition name=\"loading\">\n\t\t\t<loading v-show=\"showLoading\"></loading>\n\t\t</transition>\n\t</div>\n</template>\n\n<script>\n\nimport { mapState } from 'vuex'\nimport { shopList } from 'src/service/getData'\nimport { imgBaseUrl } from 'src/config/env'\nimport { showBack, animate } from 'src/config/mUtils'\nimport { loadMore, getImgPath } from './mixin'\nimport loading from './loading'\nimport ratingStar from './ratingStar'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\toffset: 0, // 批次加载店铺列表，每次加载20个 limit = 20\n\t\t\tshopListArr: [], // 店铺列表数据\n\t\t\tpreventRepeatReuqest: false, //到达底部加载数据，防止重复加载\n\t\t\tshowBackStatus: false, //显示返回顶部按钮\n\t\t\tshowLoading: true, //显示加载动画\n\t\t\ttouchend: false, //没有更多数据\n\t\t\timgBaseUrl,\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.initData();\n\t},\n\tcomponents: {\n\t\tloading,\n\t\tratingStar,\n\t},\n\tprops: ['restaurantCategoryId', 'restaurantCategoryIds', 'sortByType', 'deliveryMode', 'supportIds', 'confirmSelect', 'geohash'],\n\tmixins: [loadMore, getImgPath],\n\tcomputed: {\n\t\t...mapState([\n\t\t\t'latitude', 'longitude'\n\t\t]),\n\t},\n\tupdated() {\n\t\t// console.log(this.supportIds, this.sortByType)\n\t},\n\tmethods: {\n\t\tasync initData() {\n\t\t\t//获取数据\n\t\t\tlet res = await shopList(this.latitude, this.longitude, this.offset, this.restaurantCategoryId);\n\t\t\tthis.shopListArr = [...res];\n\t\t\tif (res.length < 20) {\n\t\t\t\tthis.touchend = true;\n\t\t\t}\n\t\t\tthis.hideLoading();\n\t\t\t//开始监听scrollTop的值，达到一定程度后显示返回顶部按钮\n\t\t\tshowBack(status => {\n\t\t\t\tthis.showBackStatus = status;\n\t\t\t});\n\t\t},\n\t\t//到达底部加载更多数据\n\t\tasync loaderMore() {\n\t\t\tif (this.touchend) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t//防止重复请求\n\t\t\tif (this.preventRepeatReuqest) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.showLoading = true;\n\t\t\tthis.preventRepeatReuqest = true;\n\n\t\t\t//数据的定位加20位\n\t\t\tthis.offset += 20;\n\t\t\tlet res = await shopList(this.latitude, this.longitude, this.offset, this.restaurantCategoryId);\n\t\t\tthis.hideLoading();\n\t\t\tthis.shopListArr = [...this.shopListArr, ...res];\n\t\t\t//当获取数据小于20，说明没有更多数据，不需要再次请求数据\n\t\t\tif (res.length < 20) {\n\t\t\t\tthis.touchend = true;\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.preventRepeatReuqest = false;\n\t\t},\n\t\t//返回顶部\n\t\tbackTop() {\n\t\t\tanimate(document.body, { scrollTop: '0' }, 400, 'ease-out');\n\t\t},\n\t\t//监听父级传来的数据发生变化时，触发此函数重新根据属性值获取数据\n\t\tasync listenPropChange() {\n\t\t\tthis.showLoading = true;\n\t\t\tthis.offset = 0;\n\t\t\tlet res = await shopList(this.latitude, this.longitude, this.offset, '', this.restaurantCategoryIds, this.sortByType, this.deliveryMode, this.supportIds);\n\t\t\tthis.hideLoading();\n\t\t\t//考虑到本地模拟数据是引用类型，所以返回一个新的数组\n\t\t\tthis.shopListArr = [...res];\n\t\t},\n\t\t//开发环境与编译环境loading隐藏方式不同\n\t\thideLoading() {\n\t\t\tthis.showLoading = false;\n\t\t},\n\t\tzhunshi(supports) {\n\t\t\tlet zhunStatus;\n\t\t\tif ((supports instanceof Array) && supports.length) {\n\t\t\t\tsupports.forEach(item => {\n\t\t\t\t\tif (item.icon_name === '准') {\n\t\t\t\t\t\tzhunStatus = true;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tzhunStatus = false;\n\t\t\t}\n\t\t\treturn zhunStatus\n\t\t},\n\t},\n\twatch: {\n\t\t//监听父级传来的restaurantCategoryIds，当值发生变化的时候重新获取餐馆数据，作用于排序和筛选\n\t\trestaurantCategoryIds: function (value) {\n\t\t\tthis.listenPropChange();\n\t\t},\n\t\t//监听父级传来的排序方式\n\t\tsortByType: function (value) {\n\t\t\tthis.listenPropChange();\n\t\t},\n\t\t//监听父级的确认按钮是否被点击，并且返回一个自定义事件通知父级，已经接收到数据，此时父级才可以清除已选状态\n\t\tconfirmSelect: function (value) {\n\t\t\tthis.listenPropChange();\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'src/style/mixin';\n\n.shoplist_container {\n\tbackground-color: #fff;\n\tmargin-bottom: 2rem;\n}\n\n.shop_li {\n\tdisplay: flex;\n\tborder-bottom: 0.025rem solid #f1f1f1;\n\tpadding: 0.7rem 0.4rem;\n}\n\n.shop_img {\n\t@include wh(2.7rem, 2.7rem);\n\tdisplay: block;\n\tmargin-right: 0.4rem;\n}\n\n.list_back_li {\n\theight: 4.85rem;\n\n\t.list_back_svg {\n\t\t@include wh(100%, 100%)\n\t}\n}\n\n.shop_right {\n\tflex: auto;\n\n\t.shop_detail_header {\n\t\t@include fj;\n\t\talign-items: center;\n\n\t\t.shop_title {\n\t\t\twidth: 8.5rem;\n\t\t\tcolor: #333;\n\t\t\tpadding-top: .01rem;\n\t\t\t@include font(0.65rem, 0.65rem, 'PingFangSC-Regular');\n\t\t\tfont-weight: 700;\n\t\t}\n\n\t\t.premium::before {\n\t\t\tcontent: '品牌';\n\t\t\tdisplay: inline-block;\n\t\t\tfont-size: 0.5rem;\n\t\t\tline-height: .6rem;\n\t\t\tcolor: #333;\n\t\t\tbackground-color: #ffd930;\n\t\t\tpadding: 0 0.1rem;\n\t\t\tborder-radius: 0.1rem;\n\t\t\tmargin-right: 0.2rem;\n\t\t}\n\n\t\t.shop_detail_ul {\n\t\t\tdisplay: flex;\n\t\t\ttransform: scale(.8);\n\t\t\tmargin-right: -0.3rem;\n\n\t\t\t.supports {\n\t\t\t\t@include sc(0.5rem, #999);\n\t\t\t\tborder: 0.025rem solid #f1f1f1;\n\t\t\t\tpadding: 0 0.04rem;\n\t\t\t\tborder-radius: 0.08rem;\n\t\t\t\tmargin-left: 0.05rem;\n\t\t\t}\n\t\t}\n\t}\n\n\t.rating_order_num {\n\t\t@include fj(space-between);\n\t\theight: 0.6rem;\n\t\tmargin-top: 0.52rem;\n\n\t\t.rating_order_num_left {\n\t\t\t@include fj(flex-start);\n\n\t\t\t.rating_section {\n\t\t\t\tdisplay: flex;\n\n\t\t\t\t.rating_num {\n\t\t\t\t\t@include sc(0.4rem, #ff6000);\n\t\t\t\t\tmargin: 0 0.2rem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.order_section {\n\t\t\t\ttransform: scale(.8);\n\t\t\t\tmargin-left: -0.2rem;\n\t\t\t\t@include sc(0.4rem, #666);\n\t\t\t}\n\t\t}\n\n\t\t.rating_order_num_right {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\ttransform: scale(.7);\n\t\t\tmin-width: 5rem;\n\t\t\tjustify-content: flex-end;\n\t\t\tmargin-right: -0.8rem;\n\n\t\t\t.delivery_style {\n\t\t\t\tfont-size: 0.4rem;\n\t\t\t\tpadding: 0.04rem 0.08rem 0;\n\t\t\t\tborder-radius: 0.08rem;\n\t\t\t\tmargin-left: 0.08rem;\n\t\t\t\tborder: 1px;\n\t\t\t}\n\n\t\t\t.delivery_left {\n\t\t\t\tcolor: #fff;\n\t\t\t\tbackground-color: $blue;\n\t\t\t\tborder: 0.025rem solid $blue;\n\t\t\t}\n\n\t\t\t.delivery_right {\n\t\t\t\tcolor: $blue;\n\t\t\t\tborder: 0.025rem solid $blue;\n\t\t\t}\n\t\t}\n\t}\n\n\t.fee_distance {\n\t\tmargin-top: 0.52rem;\n\t\t@include fj;\n\t\t@include sc(0.5rem, #333);\n\n\t\t.fee {\n\t\t\ttransform: scale(.9);\n\t\t\t@include sc(0.5rem, #666);\n\t\t}\n\n\t\t.distance_time {\n\t\t\ttransform: scale(.9);\n\n\t\t\tspan {\n\t\t\t\tcolor: #999;\n\t\t\t}\n\n\t\t\t.order_time {\n\t\t\t\tcolor: $blue;\n\t\t\t}\n\n\t\t\t.segmentation {\n\t\t\t\tcolor: #ccc;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.loader_more {\n\t@include font(0.6rem, 3);\n\ttext-align: center;\n\tcolor: #999;\n}\n\n.empty_data {\n\t@include sc(0.5rem, #666);\n\ttext-align: center;\n\tline-height: 2rem;\n}\n\n.return_top {\n\tposition: fixed;\n\tbottom: 3rem;\n\tright: 1rem;\n\n\t.back_top_svg {\n\t\t@include wh(2rem, 2rem);\n\t}\n}\n\n.loading-enter-active,\n.loading-leave-active {\n\ttransition: opacity 1s\n}\n\n.loading-enter,\n.loading-leave-active {\n\topacity: 0\n}\n</style>\n","import { render } from \"./shoplist.vue?vue&type=template&id=51bd231a&scoped=true\"\nimport script from \"./shoplist.vue?vue&type=script&lang=js\"\nexport * from \"./shoplist.vue?vue&type=script&lang=js\"\n\nimport \"./shoplist.vue?vue&type=style&index=0&id=51bd231a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51bd231a\"]])\n\nexport default __exports__","import { getStyle } from '../../config/mUtils'\nimport { imgBaseUrl, localapi, proapi } from '../../config/env'\n\nexport const loadMore = {\n\tdirectives: {\n\t\t'load-more': {\n\t\t\tbind: (el, binding) => {\n\t\t\t\tlet windowHeight = window.screen.height;\n\t\t\t\tlet height;\n\t\t\t\tlet setTop;\n\t\t\t\tlet paddingBottom;\n\t\t\t\tlet marginBottom;\n\t\t\t\tlet requestFram;\n\t\t\t\tlet oldScrollTop;\n\t\t\t\tlet scrollEl;\n\t\t\t\tlet heightEl;\n\t\t\t\tlet scrollType = el.attributes.type && el.attributes.type.value;\n\t\t\t\tlet scrollReduce = 2;\n\t\t\t\tif (scrollType == 2) {\n\t\t\t\t\tscrollEl = el;\n\t\t\t\t\theightEl = el.children[0];\n\t\t\t\t} else {\n\t\t\t\t\tscrollEl = document.body;\n\t\t\t\t\theightEl = el;\n\t\t\t\t}\n\n\t\t\t\tel.addEventListener('touchstart', () => {\n\t\t\t\t\theight = heightEl.clientHeight;\n\t\t\t\t\tif (scrollType == 2) {\n\t\t\t\t\t\theight = height\n\t\t\t\t\t}\n\t\t\t\t\tsetTop = el.offsetTop;\n\t\t\t\t\tpaddingBottom = getStyle(el, 'paddingBottom');\n\t\t\t\t\tmarginBottom = getStyle(el, 'marginBottom');\n\t\t\t\t}, false)\n\n\t\t\t\tel.addEventListener('touchmove', () => {\n\t\t\t\t\tloadMore();\n\t\t\t\t}, false)\n\n\t\t\t\tel.addEventListener('touchend', () => {\n\t\t\t\t\toldScrollTop = scrollEl.scrollTop;\n\t\t\t\t\tmoveEnd();\n\t\t\t\t}, false)\n\n\t\t\t\tconst moveEnd = () => {\n\t\t\t\t\trequestFram = requestAnimationFrame(() => {\n\t\t\t\t\t\tif (scrollEl.scrollTop != oldScrollTop) {\n\t\t\t\t\t\t\toldScrollTop = scrollEl.scrollTop;\n\t\t\t\t\t\t\tmoveEnd()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcancelAnimationFrame(requestFram);\n\t\t\t\t\t\t\theight = heightEl.clientHeight;\n\t\t\t\t\t\t\tloadMore();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tconst loadMore = () => {\n\t\t\t\t\tif (scrollEl.scrollTop + windowHeight >= height + setTop + paddingBottom + marginBottom - scrollReduce) {\n\t\t\t\t\t\tbinding.value();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const getImgPath = {\n\tmethods: {\n\t\t//传递过来的图片地址需要处理后才能正常使用\n\t\tgetImgPath(path) {\n\t\t\tlet suffix;\n\t\t\tif (!path) {\n\t\t\t\treturn '//elm.cangdu.org/img/default.jpg'\n\t\t\t}\n\t\t\tif (path.indexOf('jpeg') !== -1) {\n\t\t\t\tsuffix = '.jpeg'\n\t\t\t} else {\n\t\t\t\tsuffix = '.png'\n\t\t\t}\n\t\t\tlet url = '/' + path.substr(0, 1) + '/' + path.substr(1, 2) + '/' + path.substr(3) + suffix;\n\t\t\treturn 'https://fuss10.elemecdn.com' + url\n\t\t},\n\t}\n\n}"],"names":["class","xmlns","version","cx","cy","rx","ry","style","positionY","data","timer","mounted","this","setInterval","beforeDestroy","clearInterval","__exports__","render","num","key","rating","props","type","src","ref","shopListArr","item","to","geohash","id","tag","imgBaseUrl","image_path","is_premium","name","supports","icon_name","recent_order_num","delivery_mode","text","zhunshi","float_minimum_order_amount","piecewise_agent_fee","tips","Number","distance","toFixed","order_lead_time","loaderMore","backTop","showLoading","offset","preventRepeatReuqest","showBackStatus","touchend","initData","components","loading","ratingStar","mixins","computed","mapState","updated","methods","res","latitude","longitude","restaurantCategoryId","length","hideLoading","status","document","body","scrollTop","listenPropChange","restaurantCategoryIds","sortByType","deliveryMode","supportIds","zhunStatus","Array","forEach","watch","value","confirmSelect","loadMore","directives","bind","el","binding","height","setTop","paddingBottom","marginBottom","requestFram","oldScrollTop","scrollEl","heightEl","windowHeight","window","screen","scrollType","attributes","scrollReduce","children","addEventListener","clientHeight","offsetTop","moveEnd","requestAnimationFrame","cancelAnimationFrame","getImgPath","path","suffix","indexOf","url","substr"],"sourceRoot":""}