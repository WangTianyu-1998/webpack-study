"use strict";(self["webpackChunkelm"]=self["webpackChunkelm"]||[]).push([[312],{9102:(e,t,s)=>{s.d(t,{A:()=>m});var n=s(3060);const o=e=>((0,n.pushScopeId)("data-v-7a683c4e"),e=e(),(0,n.popScopeId)(),e),i={class:"alet_container"},r={class:"tip_text_container"},l=o((()=>(0,n.createElementVNode)("div",{class:"tip_icon"},[(0,n.createElementVNode)("span"),(0,n.createElementVNode)("span")],-1))),a={class:"tip_text"};function d(e,t,s,o,d,c){return(0,n.openBlock)(),(0,n.createElementBlock)("div",i,[(0,n.createElementVNode)("section",r,[l,(0,n.createElementVNode)("p",a,(0,n.toDisplayString)(s.alertText),1),(0,n.createElementVNode)("div",{class:"confrim",onClick:t[0]||(t[0]=(...e)=>c.closeTip&&c.closeTip(...e))},"确认")])])}const c={data(){return{positionY:0,timer:null}},mounted(){},props:["alertText"],methods:{closeTip(){this.$emit("closeTip")}}};var h=s(4621);const p=(0,h.A)(c,[["render",d],["__scopeId","data-v-7a683c4e"]]),m=p},8724:(e,t,s)=>{s.d(t,{A:()=>k});var n=s(3060);const o=e=>((0,n.pushScopeId)("data-v-3a98f49d"),e=e(),(0,n.popScopeId)(),e),i={id:"head_top"},r=o((()=>(0,n.createElementVNode)("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},[(0,n.createElementVNode)("polyline",{points:"12,18 4,9 12,0",style:{fill:"none",stroke:"rgb(255,255,255)","stroke-width":"2"}})],-1))),l=[r],a={key:0,class:"user_avatar"},d=o((()=>(0,n.createElementVNode)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#user"},null,-1))),c=[d],h={key:1,class:"login_span"},p={key:2,class:"title_head ellipsis"},m={class:"title_text"};function u(e,t,s,o,r,d){const u=(0,n.resolveComponent)("router-link");return(0,n.openBlock)(),(0,n.createElementBlock)("header",i,[(0,n.renderSlot)(e.$slots,"logo",{},void 0,!0),(0,n.renderSlot)(e.$slots,"search",{},void 0,!0),s.goBack?((0,n.openBlock)(),(0,n.createElementBlock)("section",{key:0,class:"head_goback",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},l)):(0,n.createCommentVNode)("",!0),s.signinUp?((0,n.openBlock)(),(0,n.createBlock)(u,{key:1,to:e.userInfo?"/profile":"/login",class:"head_login"},{default:(0,n.withCtx)((()=>[e.userInfo?((0,n.openBlock)(),(0,n.createElementBlock)("svg",a,c)):((0,n.openBlock)(),(0,n.createElementBlock)("span",h,"登录|注册"))])),_:1},8,["to"])):(0,n.createCommentVNode)("",!0),s.headTitle?((0,n.openBlock)(),(0,n.createElementBlock)("section",p,[(0,n.createElementVNode)("span",m,(0,n.toDisplayString)(s.headTitle),1)])):(0,n.createCommentVNode)("",!0),(0,n.renderSlot)(e.$slots,"edit",{},void 0,!0),(0,n.renderSlot)(e.$slots,"msite-title",{},void 0,!0),(0,n.renderSlot)(e.$slots,"changecity",{},void 0,!0),(0,n.renderSlot)(e.$slots,"changeLogin",{},void 0,!0)])}var v=s(275);const g={data(){return{}},mounted(){this.getUserInfo()},props:["signinUp","headTitle","goBack"],computed:{...(0,v.mapState)(["userInfo"])},methods:{...(0,v.mapActions)(["getUserInfo"])}};var f=s(4621);const y=(0,f.A)(g,[["render",u],["__scopeId","data-v-3a98f49d"]]),k=y},1312:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var n=s(3060);const o={class:"rating_page"},i={class:"adddetail"},r={class:"ui-padding-block"},l={class:"input-new"},a={key:0},d={class:"input-new"},c={class:"input-new"},h={key:0},p={class:"input-new"},m={key:0},u={class:"input-new"},v={key:0},g={class:"addbutton"};function f(e,t,s,f,y,k){const T=(0,n.resolveComponent)("head-top"),V=(0,n.resolveComponent)("router-link"),b=(0,n.resolveComponent)("router-view"),E=(0,n.resolveComponent)("alert-tip");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createVNode)(T,{"head-title":"新增地址","go-back":"true"}),(0,n.createElementVNode)("section",i,[(0,n.createElementVNode)("form",{action:"",onSubmit:t[10]||(t[10]=(0,n.withModifiers)((()=>{}),["prevent"]))},[(0,n.createElementVNode)("section",r,[(0,n.createElementVNode)("div",l,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",placeholder:"请填写你的姓名",class:(0,n.normalizeClass)({verifies:y.verify}),"onUpdate:modelValue":t[0]||(t[0]=e=>y.message=e),onInput:t[1]||(t[1]=(...e)=>k.inputThing&&k.inputThing(...e))},null,34),[[n.vModelText,y.message]]),y.verify?((0,n.openBlock)(),(0,n.createElementBlock)("p",a,"请填写您的姓名")):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)(V,{to:"/profile/info/address/add/addDetail",class:"add-detail"},{default:(0,n.withCtx)((()=>[(0,n.createElementVNode)("div",d,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",placeholder:"小区/写字楼/学校等",readonly:"readonly","onUpdate:modelValue":t[2]||(t[2]=t=>e.addAddress=t)},null,512),[[n.vModelText,e.addAddress]])])])),_:1}),(0,n.createElementVNode)("div",c,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",placeholder:"请填写详细送餐地址",class:(0,n.normalizeClass)({verifies:y.verifythree}),onInput:t[3]||(t[3]=(...e)=>k.inputThingthree&&k.inputThingthree(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>y.mesthree=e)},null,34),[[n.vModelText,y.mesthree]]),y.verifythree?((0,n.openBlock)(),(0,n.createElementBlock)("p",h,(0,n.toDisplayString)(y.sendaddress),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",p,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",placeholder:"请填写能够联系到您的手机号",class:(0,n.normalizeClass)({verifies:y.verifyfour}),"onUpdate:modelValue":t[5]||(t[5]=e=>y.telenum=e),onInput:t[6]||(t[6]=(...e)=>k.inputThingfour&&k.inputThingfour(...e))},null,34),[[n.vModelText,y.telenum]]),y.verifyfour?((0,n.openBlock)(),(0,n.createElementBlock)("p",m,(0,n.toDisplayString)(y.telephone),1)):(0,n.createCommentVNode)("",!0)]),(0,n.createElementVNode)("div",u,[(0,n.withDirectives)((0,n.createElementVNode)("input",{type:"text",placeholder:"备用联系电话（选填）","onUpdate:modelValue":t[7]||(t[7]=e=>y.standbytelenum=e),onInput:t[8]||(t[8]=(...e)=>k.inputThingfive&&k.inputThingfive(...e))},null,544),[[n.vModelText,y.standbytelenum]]),y.verifyfive?((0,n.openBlock)(),(0,n.createElementBlock)("p",v,(0,n.toDisplayString)(y.standbytele),1)):(0,n.createCommentVNode)("",!0)])]),(0,n.createElementVNode)("section",g,[(0,n.createElementVNode)("button",{class:(0,n.normalizeClass)({butopacity:y.butpart}),onClick:t[9]||(t[9]=(0,n.withModifiers)(((...e)=>k.submitThing&&k.submitThing(...e)),["prevent"]))},"新增地址",2)])],32)]),(0,n.createVNode)(n.Transition,{name:"router-slid",mode:"out-in"},{default:(0,n.withCtx)((()=>[(0,n.createVNode)(b)])),_:1}),y.showAlert?((0,n.openBlock)(),(0,n.createBlock)(E,{key:0,onCloseTip:t[11]||(t[11]=e=>y.showAlert=!1),alertText:y.alertText},null,8,["alertText"])):(0,n.createCommentVNode)("",!0)])}var y=s(8724),k=s(9802),T=s(275),V=s(6497),b=s(9102);const E={data(){return{verify:!1,verifytwo:!1,verifythree:!1,verifyfour:!1,verifyfive:!1,butpart:!1,sendaddress:"",message:"",mesthree:"",telenum:"",telephone:"",standbytele:"",standbytelenum:"",addSearch:!1,newAddress:{},showAlert:!1,alertText:null}},created(){},mixins:[k.d],components:{headTop:y.A,alertTip:b.A},computed:{...(0,T.mapState)(["userInfo","addAddress","removeAddress","newAddress","geohash"])},props:[],methods:{...(0,T.mapMutations)(["ADD_ADDRESS"]),inputThing(){this.message?this.verify=!1:this.verify=!0,this.bindThing()},inputThingthree(){this.verifythree=!0,0==this.mesthree.length?this.sendaddress="请详细填写送餐地址":this.mesthree.length>0&&this.mesthree.length<=2?this.sendaddress="送餐地址太短了，不能辨识":(this.sendaddress="",this.verifythree=!1),this.bindThing()},inputThingfour(){this.verifyfour=!0,/^[1][358][0-9]{9}$/.test(this.telenum)?this.verifyfour=!1:""==this.telenum?this.telephone="手机号不能为空":this.telephone="请输入正确的手机号",this.bindThing()},inputThingfive(){this.verifyfive=!0,/^[1][358][0-9]{9}$/.test(this.standbytelenum)||""==this.standbytelenum?this.verifyfive=!1:this.standbytele="请输入正确的手机号",this.bindThing()},bindThing(){this.message&&this.mesthree&&!this.verifyfour?this.butpart=!0:this.butpart=!1},async submitThing(){let e=await(0,V.up)(this.userInfo.user_id,this.mesthree,this.addAddress,this.geohash,this.message,this.telenum,this.standbytelenum,0,1,"公司",4);e.message?(this.showAlert=!0,this.alertText=e.message):this.butpart&&(this.ADD_ADDRESS({name:this.message,address:this.mesthree,address_detail:this.addAddress,geohash:"wtw37r7cxep4",phone:this.telenum,phone_bk:this.standbytelenum,poi:this.addAddress,poi_type:0}),this.$router.go(-1))}}};var w=s(4621);const N=(0,w.A)(E,[["render",f],["__scopeId","data-v-48a1ef26"]]),x=N},9802:(e,t,s)=>{s.d(t,{U:()=>o,d:()=>i});var n=s(2467);s(9120);const o={directives:{"load-more":{bind:(e,t)=>{let s,o,i,r,l,a,d,c,h=window.screen.height,p=e.attributes.type&&e.attributes.type.value,m=2;2==p?(d=e,c=e.children[0]):(d=document.body,c=e),e.addEventListener("touchstart",(()=>{s=c.clientHeight,o=e.offsetTop,i=(0,n.gd)(e,"paddingBottom"),r=(0,n.gd)(e,"marginBottom")}),!1),e.addEventListener("touchmove",(()=>{v()}),!1),e.addEventListener("touchend",(()=>{a=d.scrollTop,u()}),!1);const u=()=>{l=requestAnimationFrame((()=>{d.scrollTop!=a?(a=d.scrollTop,u()):(cancelAnimationFrame(l),s=c.clientHeight,v())}))},v=()=>{d.scrollTop+h>=s+o+i+r-m&&t.value()}}}}},i={methods:{getImgPath(e){let t;if(!e)return"//elm.cangdu.org/img/default.jpg";t=-1!==e.indexOf("jpeg")?".jpeg":".png";let s="/"+e.substr(0,1)+"/"+e.substr(1,2)+"/"+e.substr(3)+t;return"https://fuss10.elemecdn.com"+s}}}}}]);
//# sourceMappingURL=312.8fb219dc.js.map