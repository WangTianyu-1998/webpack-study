"use strict";(self["webpackChunkelm"]=self["webpackChunkelm"]||[]).push([[267],{9102:(e,t,o)=>{o.d(t,{A:()=>h});var a=o(3060);const l=e=>((0,a.pushScopeId)("data-v-7a683c4e"),e=e(),(0,a.popScopeId)(),e),n={class:"alet_container"},s={class:"tip_text_container"},r=l((()=>(0,a.createElementVNode)("div",{class:"tip_icon"},[(0,a.createElementVNode)("span"),(0,a.createElementVNode)("span")],-1))),i={class:"tip_text"};function c(e,t,o,l,c,d){return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("section",s,[r,(0,a.createElementVNode)("p",i,(0,a.toDisplayString)(o.alertText),1),(0,a.createElementVNode)("div",{class:"confrim",onClick:t[0]||(t[0]=(...e)=>d.closeTip&&d.closeTip(...e))},"确认")])])}const d={data(){return{positionY:0,timer:null}},mounted(){},props:["alertText"],methods:{closeTip(){this.$emit("closeTip")}}};var p=o(4621);const m=(0,p.A)(d,[["render",c],["__scopeId","data-v-7a683c4e"]]),h=m},8724:(e,t,o)=>{o.d(t,{A:()=>E});var a=o(3060);const l=e=>((0,a.pushScopeId)("data-v-3a98f49d"),e=e(),(0,a.popScopeId)(),e),n={id:"head_top"},s=l((()=>(0,a.createElementVNode)("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},[(0,a.createElementVNode)("polyline",{points:"12,18 4,9 12,0",style:{fill:"none",stroke:"rgb(255,255,255)","stroke-width":"2"}})],-1))),r=[s],i={key:0,class:"user_avatar"},c=l((()=>(0,a.createElementVNode)("use",{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":"#user"},null,-1))),d=[c],p={key:1,class:"login_span"},m={key:2,class:"title_head ellipsis"},h={class:"title_text"};function u(e,t,o,l,s,c){const u=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createElementBlock)("header",n,[(0,a.renderSlot)(e.$slots,"logo",{},void 0,!0),(0,a.renderSlot)(e.$slots,"search",{},void 0,!0),o.goBack?((0,a.openBlock)(),(0,a.createElementBlock)("section",{key:0,class:"head_goback",onClick:t[0]||(t[0]=t=>e.$router.go(-1))},r)):(0,a.createCommentVNode)("",!0),o.signinUp?((0,a.openBlock)(),(0,a.createBlock)(u,{key:1,to:e.userInfo?"/profile":"/login",class:"head_login"},{default:(0,a.withCtx)((()=>[e.userInfo?((0,a.openBlock)(),(0,a.createElementBlock)("svg",i,d)):((0,a.openBlock)(),(0,a.createElementBlock)("span",p,"登录|注册"))])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),o.headTitle?((0,a.openBlock)(),(0,a.createElementBlock)("section",m,[(0,a.createElementVNode)("span",h,(0,a.toDisplayString)(o.headTitle),1)])):(0,a.createCommentVNode)("",!0),(0,a.renderSlot)(e.$slots,"edit",{},void 0,!0),(0,a.renderSlot)(e.$slots,"msite-title",{},void 0,!0),(0,a.renderSlot)(e.$slots,"changecity",{},void 0,!0),(0,a.renderSlot)(e.$slots,"changeLogin",{},void 0,!0)])}var k=o(275);const v={data(){return{}},mounted(){this.getUserInfo()},props:["signinUp","headTitle","goBack"],computed:{...(0,k.mapState)(["userInfo"])},methods:{...(0,k.mapActions)(["getUserInfo"])}};var V=o(4621);const g=(0,V.A)(v,[["render",u],["__scopeId","data-v-3a98f49d"]]),E=g},1267:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var a=o(3060);const l=e=>((0,a.pushScopeId)("data-v-02906224"),e=e(),(0,a.popScopeId)(),e),n={class:"validation_page"},s={class:"validataion_container"},r={key:0,class:"voice_tip"},i=l((()=>(0,a.createElementVNode)("p",null,"电话拨打中...",-1))),c=l((()=>(0,a.createElementVNode)("p",null,[(0,a.createTextVNode)("请留意来自 "),(0,a.createElementVNode)("span",null,"10105757"),(0,a.createTextVNode)(" 或者 "),(0,a.createElementVNode)("span",null,"021-315754XX"),(0,a.createTextVNode)(" 的电话")],-1))),d=[i,c],p={class:"validataion_header"},m=l((()=>(0,a.createElementVNode)("span",null,"收不到短信？使用",-1))),h={class:"input_form"},u={key:0,class:"disable"};function k(e,t,o,l,i,c){const k=(0,a.resolveComponent)("head-top"),v=(0,a.resolveComponent)("alert-tip");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createVNode)(k,{"head-title":"用户手机验证","go-back":"true"}),(0,a.createElementVNode)("section",s,[i.showVoiceTip?((0,a.openBlock)(),(0,a.createElementBlock)("div",r,d)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("header",p,[m,(0,a.createElementVNode)("span",{onClick:t[0]||(t[0]=(...e)=>c.sendVoice&&c.sendVoice(...e))},"语音验证码")]),(0,a.createElementVNode)("form",h,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",name:"validate","onUpdate:modelValue":t[1]||(t[1]=e=>i.validate=e),placeholder:"验证码",maxlength:"6"},null,512),[[a.vModelText,i.validate]]),i.countDown?((0,a.openBlock)(),(0,a.createElementBlock)("span",u,(0,a.toDisplayString)(i.countDown)+" S",1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",{key:1,class:"repost",onClick:t[2]||(t[2]=(...e)=>c.recall&&c.recall(...e))},"重新发送"))])]),(0,a.createElementVNode)("div",{class:"determine",onClick:t[3]||(t[3]=(...e)=>c.confrimOrder&&c.confrimOrder(...e))},"确定"),i.showAlert?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,onCloseTip:t[4]||(t[4]=e=>i.showAlert=!1),alertText:i.alertText},null,8,["alertText"])):(0,a.createCommentVNode)("",!0)])}var v=o(8724),V=o(275),g=o(6497),E=o(9102);const _={data(){return{validate:null,countDown:60,sig:null,reCallVerify:null,showAlert:!1,alertText:null,showVoiceTip:!1,type:"sms"}},components:{headTop:v.A,alertTip:E.A},created(){this.sig=this.$route.query.sig},mounted(){this.count(),this.getData()},beforeDestroy(){clearInterval(this.timer)},props:[],computed:{...(0,V.mapState)(["needValidation","cart_id","sig","orderParam"])},methods:{...(0,V.mapMutations)(["CHANGE_ORDER_PARAM","ORDER_SUCCESS"]),count(){this.countDown=60,clearInterval(this.timer),this.timer=setInterval((()=>{this.countDown--,0==this.countDown&&clearInterval(this.timer)}),1e3)},recall(){this.count(),this.type="sms",this.getData()},sendVoice(){this.showVoiceTip=!0,this.type="voice",this.getData()},async getData(){this.reCallVerify=await(0,g.L_)(this.cart_id,this.sig,this.type),this.reCallVerify.message&&(this.showAlert=!0,this.alertText=this.reCallVerify.message)},async confrimOrder(){this.CHANGE_ORDER_PARAM({validation_code:this.validate,validation_token:this.reCallVerify.validate_token});let e=await(0,g._p)(this.orderParam);if(e.message)return this.showAlert=!0,void(this.alertText=e.message);this.ORDER_SUCCESS(e),this.$router.push("/confirmOrder/payment")}}};var N=o(4621);const f=(0,N.A)(_,[["render",k],["__scopeId","data-v-02906224"]]),w=f}}]);
//# sourceMappingURL=267.c4e5b68a.js.map